variables <- c("Variable Name", "Variable Role", "Variable Type", "Range of Values", "Units of Measurement")
breed <- c("animal_breed", "explanatory", "categorical", "296 unique breeds", "NA")
origin <- c("animal_origin", "explanatory", "categorical", "4 sources of shelter animals", "NA")
type <- c("animal_type", "explanatory", "categorical", "5 species of animal", "NA")
chip <- c("chip_status", "explanatory", "bianary", "(0,1)", "NA")
intake_type <- c("intake_type", "potential confounder", "categorial", "how animal came to be at the shelter", "NA")
outcome_type <- c("outcome_type", "reponse", "categorial", "how animals was removed from shelter", "NA")
intake_condition <- c("intake_condition", "potential confounder", "categorial", "keyword description of animal status at intake", "NA")
outcome_condition <- c("outcome_condition", "potential confounder", "categorial", "keyword description of animal status at outcome", "NA")
intake_date <- c("intake_date", "response", "date", "(2017-10-01, 2019-04-03)", "y-m-d")
outcome_date <- c("outcome_date", "response", "date", "(2017-10-01, 2019-04-03)", "y-m-d")
tab <- rbind(breed, origin, type, chip, intake_type, outcome_type, intake_condition, outcome_condition, intake_date, outcome_date)
colnames(tab) <- variables
rownames(tab) <- NULL
kable(tab, format = "latex", booktabs = T) %>%
column_spec( 4, width = "4cm") %>%
kable_styling(latex_options = "striped")
library(tidyverse)
library(tidyverse)
library(kableExtra)
install.packages("kableExtra")
kable(tab, format = "latex", booktabs = T) %>%
column_spec( 4, width = "4cm") %>%
kable_styling(latex_options = "striped")
kable(tab, format = "latex", booktabs = T) %>%
column_spec( 4, width = "4cm") %>%
kable_styling(latex_options = "striped")
variables <- c("Variable Name", "Variable Role", "Variable Type", "Range of Values", "Units of Measurement")
breed <- c("animal_breed", "explanatory", "categorical", "296 unique breeds", "NA")
origin <- c("animal_origin", "explanatory", "categorical", "4 sources of shelter animals", "NA")
type <- c("animal_type", "explanatory", "categorical", "5 species of animal", "NA")
chip <- c("chip_status", "explanatory", "bianary", "(0,1)", "NA")
intake_type <- c("intake_type", "potential confounder", "categorial", "how animal came to be at the shelter", "NA")
outcome_type <- c("outcome_type", "reponse", "categorial", "how animals was removed from shelter", "NA")
intake_condition <- c("intake_condition", "potential confounder", "categorial", "keyword description of animal status at intake", "NA")
outcome_condition <- c("outcome_condition", "potential confounder", "categorial", "keyword description of animal status at outcome", "NA")
intake_date <- c("intake_date", "response", "date", "(2017-10-01, 2019-04-03)", "y-m-d")
outcome_date <- c("outcome_date", "response", "date", "(2017-10-01, 2019-04-03)", "y-m-d")
tab <- rbind(breed, origin, type, chip, intake_type, outcome_type, intake_condition, outcome_condition, intake_date, outcome_date)
colnames(tab) <- variables
rownames(tab) <- NULL
kable(tab, format = "latex", booktabs = T) %>%
column_spec( 4, width = "4cm") %>%
kable_styling(latex_options = "striped")
?kable
library(kableExtra)
kable(tab, format = "latex", booktabs = T) %>%
column_spec( 4, width = "4cm") %>%
kable_styling(latex_options = "striped")
install.packages()
names(adoptions)
```{r, include=FALSE}
library(tidyverse)
library(tidyverse)
library(readr)
names(adoptions)
adoptions <- read_csv("~/Stats 316 S19/Project/adoptions/adoptions.csv")
names(adoptions)
adoptions %>%
group_by(animal_breed) %>%
n()
adoptions %>%
group_by(animal_breed) %>%
summarise = n()
adoptions %>%
group_by(animal_breed) %>%
summarise(n)
adoptions %>%
group_by(animal_breed) %>%
summarise(n())
adoptions %>%
filter(animal_type == "DOG")
adoptions %>%
filter(animal_type == "DOG") %>%
group_by(animal_breed) %>%
summarise(n())
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animla_breed, n=10))
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10))
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
summarise(n())
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
summarise(n()) %>%
sort()
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count( )
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count( sort = TRUE)
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=20)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=15)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(animal_type == "CAT") %>%
mutate(animal_breed = fct_lump(animal_breed, n=15)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(animal_type == "CAT") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(animal_type == "WILDLIFE") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
table(adoptions$animal_type)
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=15)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(animal_type == "WILDLIFE") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
##Which dog breeds are in our data?
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=15)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
##Which cat breeds are in our data?
adoptions %>%
filter(animal_type == "CAT") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
##Which types of wildlife are in our data?
adoptions %>%
filter(animal_type == "WILDLIFE") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
names(adoptions)
adoptions %>%
ggplot(aes(x=animal_origin)) %>%
geom_boxplot()
adoptions %>%
ggplot(aes(x=animal_origin)) +
geom_boxplot()
adoptions %>%
ggplot(aes(x=animal_origin)) +
geom_bar()
adoptions %>%
ggplot(aes(x=animal_origin)) +
geom_bar()+
facet_grid(~animal_type)
# Chunk 1
#install.packages("RSocrata")
library("RSocrata")
library(tidyverse)
library(lubridate)
#Hi Everyone!
#Did this work
# Chunk 2
## Install the required package with:
pets <- read.socrata(
"https://www.dallasopendata.com/resource/4jgt-nenk.json",
app_token = "wDT4b7XQopH021wwxwHK27Y8v",
email     = "slagel1@stolaf.edu",
password  = "yKjfMhivkWd6SEE"
)
pets <- pets %>%
select(4, 6, 7, 9, 10, 14, 15, 16, 18, 19, 23, 24, 25, 27, 30) %>%
as.tibble()
pets <- pets %>%
filter(intake_total == 1)%>%
select(-intake_total) %>%
select(-council_district) %>%
select(-outcome_subtype) %>%
mutate(pitbull = if_else(animal_breed == "PIT BULL", 1, 0 ),
adopted = if_else(outcome_type == "ADOPTION", 1, 0),
euthanized = if_else(outcome_type == "EUTHANIZED", 1, 0),
surrendered = if_else(intake_type == "OWNER SURRENDER", 1, 0),
stray = if_else(intake_type == "STRAY", 1, 0),
dog = if_else(animal_type == "DOG", 1, 0),
cat = if_else(animal_type == "CAT", 1, 0),
) %>%
mutate(shelter_days = difftime(outcome_date,intake_date, units = "days"),
december = if_else(month(outcome_date) == 12, 1, 0),
month = month(outcome_date),
year = year(outcome_date)
)
write.csv(pets, "~/Stats 316 S19/Project/adoptions/adoptions.csv")
#write.csv(pets, "~/Documents/GitHub/adoptions/adoptions.csv")
# Chunk 1
library(tidyverse)
library(readr)
adoptions <- read_csv("~/Stats 316 S19/Project/adoptions/adoptions.csv")
# Chunk 2
##Which dog breeds are in our data?
adoptions %>%
filter(animal_type == "DOG") %>%
mutate(animal_breed = fct_lump(animal_breed, n=15)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
##Which cat breeds are in our data?
adoptions %>%
filter(animal_type == "CAT") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
##Which types of wildlife are in our data?
adoptions %>%
filter(animal_type == "WILDLIFE") %>%
mutate(animal_breed = fct_lump(animal_breed, n=10)) %>%
group_by(animal_breed) %>%
count(sort = TRUE)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(stat = )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(stat = prop )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(stat = "prop" )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(stat = ..dens.. )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(stat = ..prop.. )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(y = ..prop.. )+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar(aes(y = ..prop.. ))+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, (..count..)/sum(..count..))) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin)) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, fill = adopted)) +
geom_bar()+
facet_grid(~animal_type)
adoptions$adopted
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, fill = parse_factor(adopted))) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, fill = as.factor(adopted))) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, fill = as.factor(pitbull))) +
geom_bar()+
facet_grid(~animal_type)
names(adoptions)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin, fill = as.factor(stray))) +
geom_bar()+
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=animal_origin))+
geom_bar()+
facet_grid(~animal_type)
facet_grid(~animal_type)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
ggplot(aes(x=chip_status))+
geom_bar()+
facet_grid(~animal_type)
names(adoptions)
adoptions$outcome_type
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))+
ggplot(aes(x=chip_status))+
geom_bar()+
```
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))+
ggplot(aes(x=chip_status))+
geom_bar(),
```
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))+
ggplot(aes(x=chip_status))+
geom_bar()
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))+
ggplot(aes(x=chip_status))+
geom_bar()
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0)) %>%
ggplot(aes(x=chip_status))+
geom_bar()
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = ifelse(outcome_type== "RETURNED TO OWNER", 1, 0)) %>%
ggplot(aes(x=chip_status, fill = returned))+
geom_bar()
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = as.factor(ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))) %>%
ggplot(aes(x=chip_status, fill = returned))+
geom_bar()
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = as.factor(ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))) %>%
ggplot(aes(x=chip_status, fill = returned))+
geom_bar(position = fill)
adoptions %>%
filter(dog == 1 | cat == 1) %>%
mutate(returned = as.factor(ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))) %>%
ggplot(aes(x=chip_status, fill = returned))+
geom_bar(position = "fill")
adoptions %>%
filter(dog == 1 | cat == 1) %>%
filter(!is.na(chip_status))
adoptions %>%
filter(dog == 1 | cat == 1) %>%
filter(!is.na(chip_status)) %>%
mutate(returned = as.factor(ifelse(outcome_type== "RETURNED TO OWNER", 1, 0))) %>%
ggplot(aes(x=chip_status, fill = returned))+
geom_bar(position = "fill")
names(adoptions)
intake_condition
adoptions$intake_condition
adoptions$intake_subtype
##Which dog breeds are in our data?
adoptions %>%
#mutate(intake_subtype = fct_lump(intake_subtype, n=15)) %>%
group_by(intake_subtype) %>%
count(sort = TRUE)
##Which dog breeds are in our data?
adoptions %>%
mutate(intake_subtype = fct_lump(intake_subtype, n=15)) %>%
group_by(intake_subtype) %>%
count(sort = TRUE)
adoptions %>%
mutate(intake_month = month(intake_date)) %>%
ggplot(aes(x=intake_month))+
geom_bar()
adoptions %>%
mutate(intake_month = month(intake_date)) %>%
ggplot(aes(x=intake_month))+
geom_bar()+
scale_x_continuous(breaks=1:10)
adoptions %>%
mutate(intake_month = month(intake_date)) %>%
ggplot(aes(x=intake_month))+
geom_bar()+
scale_x_continuous(breaks=1:12)
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar()+
scale_x_continuous(breaks=1:12)
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar()
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar(aes(fill = animal origin))
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar(aes(fill = animal_origin))
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar(aes(fill = dog))
adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar()
adoptions %>%
mutate(outcome_month = month(outcome_date, label = TRUE)) %>%
ggplot(aes(x=outcome_month))+
geom_bar()
adoptions %>%
filter(!is.na(outcome_date)) %>%
mutate(outcome_month = month(outcome_date, label = TRUE)) %>%
ggplot(aes(x=outcome_month))+
geom_bar()
intake <- adoptions %>%
mutate(intake_month = month(intake_date, label = TRUE)) %>%
ggplot(aes(x=intake_month))+
geom_bar()+ggtitle("Intake Month")
outcome <- adoptions %>%
filter(!is.na(outcome_date)) %>%
mutate(outcome_month = month(outcome_date, label = TRUE)) %>%
ggplot(aes(x=outcome_month))+
geom_bar()
gridExtra::grid.arrange(intake, outcome)
outcome <- adoptions %>%
filter(!is.na(outcome_date)) %>%
mutate(outcome_month = month(outcome_date, label = TRUE)) %>%
ggplot(aes(x=outcome_month))+
geom_bar()+ ggtitle("Outcome Month")
gridExtra::grid.arrange(intake, outcome)
